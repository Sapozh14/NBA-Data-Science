<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PER Calculator</title>
</head>

<body>
    <header>
        <div class="header">
            <h1 class="title">NBA PER Calculator</h1>
        </div>
    </header>
    <main>

        <div class="main-title"></div>
        <p class="opening">
            Please fill the stats and click the "Find The PER" button to calculate the PER<br/>
            The stats should bethe total amount for one player in a season
        </p>
        <div class="main-container">
            <div class="PER-variable">
                <div class="inputName PTS">FG</div>
                <label for="PTS"></label>
                <input type="number" name="FG" id="FG" value="0" >
            </div>

            <div class="PER-variable">
                <div class="inputName PTS">STL</div>
                <label for="STL"></label>
                <input type="number" name="STL" id="STL" value="0" > 
            </div>

            <div class="PER-variable">
                <div class="inputName PTS">3P</div>
                <label for="3P"></label>
                <input type="number" name="3P" id="3P" value="0" >
            </div>

            <div class="PER-variable">
                <div class="inputName PTS">BLK</div>
                <label for="BLK"></label>
                <input type="number" name="BLK" id="BLK" value="0" >
            </div>

            <div class="PER-variable">
                <div class="inputName PTS">ORB</div>
                <label for="ORB"></label>
                <input type="number" name="ORB" id="ORB" value="0" >
            </div>

            <div class="PER-variable">
                <div class="inputName PTS">AST</div>
                <label for="AST"></label>
                <input type="number" name="AST" id="AST" value="0" >
            </div>

            <div class="PER-variable">
                <div class="inputName PTS">DRB</div>
                <label for="DRB"></label>
                <input type="number" name="DRB" id="DRB" value="0" >
            </div>

            <div class="PER-variable">
                <div class="inputName PTS">PF</div>
                <label for="PF"></label>
                <input type="number" name="PF" id="PF" value="0" >
            </div>

            <div class="PER-variable">
                <div class="inputName PTS">FTA</div>
                <label for="FTA"></label>
                <input type="number" name="FTA" id="FTA" value="0" >
            </div>

            <div class="PER-variable">
                <div class="inputName PTS">FT</div>
                <label for="FT"></label>
                <input type="number" name="FT" id="FT" value="0" >
            </div>

            <div class="PER-variable">
                <div class="inputName PTS">FGA</div>
                <label for="FGA"></label>
                <input type="number" name="FGA" id="FGA" value="0" >
            </div>

            <div class="PER-variable">
                <div class="inputName PTS">TOV</div>
                <label for="TOV"></label>
                <input type="number" name="TOV" id="TOV" value="0" >
            </div>

            <div class="PER-variable">
                <div class="inputName PTS">MP</div>
                <label for="MP"></label>
                <input type="number" name="MP" id="MP" value="1" >
            </div>

        </div>
        <div class="result-container">
            <button class="calculate">Find The PER</button>
            <div class="PER-result-container">PER : <span class="PER-result"></span></div>
            <div class="suprise"></div>
            <div class="player-name"></div>
            <div class="player-img"></div>
        </div>
        
        <footer class="footer">Made by Yarden Ankonina & Alon Sapozhnikov <a class="github_link"
                href="https://github.com/Yarden-Ankonina/NBA-Data-Science"><img
                    src="https://1000logos.net/wp-content/uploads/2021/05/GitHub-logo-768x432.png" alt="#" class="img-git"></a></footer>
    </main>

    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            min-height: 100%;
            background-color: rgb(238, 246, 255);
            ;
            display: flex;
            flex-direction: column;
            height: fit-content;

        }

        .title {
            margin: 0;
            text-align: center;
            padding: 0.3em;
            font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
            font-weight: bold;
            color: rgb(43, 128, 226);
            box-shadow: 0.5px 0px 5px 4px rgba(0, 0, 0, 0.2);
            background-color: rgb(193, 216, 241);
            ;
        }

        main {
            height: 100%;
            padding: 0.2em;
            text-align: center;
            height: fit-content;

        }

        .main-container {
            display: flex;
            flex-wrap: wrap;
            margin: 0.2em;
            padding: 0.2em;
            justify-content: center;

        }

        .PER-variable {
            text-align: center;
            margin: 0.5em;
            padding: 0.2em;
            width: 25%;
        }

        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        input {
            outline: none;
            border: none;
            border-bottom: 2px solid rgb(43, 128, 226);
            border-radius: 3%;
            padding: 0.5em;
        }

        .inputName {
            margin-right: 0.5em;
            margin-bottom: 0.2em;
            border: none;
        }

        .result-container {
            justify-content: center;
            align-items: center;
            display: flex;
            flex-direction: column;
        }

        .calculate {
            margin: 0.2em;
            width: 10%;
            border-radius: 5%;
            padding: 1em;
            border: none;
            background-color: rgb(43, 128, 226);
            color: rgba(255, 255, 255, 0.911);
            font-weight: bold;
            font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif
        }

        .calculate:hover {
            background-color: rgb(48, 141, 247);
            color: white;
            cursor: pointer;
        }

        .PER-result-container {
            background-color: rgb(240, 97, 109);
            padding: 1em;
            margin: 1em;
            border-radius: 3%;
            width: 20%;
            font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
            font-weight: bold;
            text-align: start;

        }
        .PER-result{
            padding-left: 1em;
            font-size: 1.5em;
            font-weight: bold;
            color: rgb(65, 143, 233);
        }
        footer {
            text-align: center;
            padding: 0.5em;
            color: rgb(15, 73, 139);
        }
        .suprise{
            margin:0.5em;
        }

        img {
            width: 12em;
        }
        .img-git{
            width:3em;
        }
    </style>
</body>
<script type="text/javascript">
    button = document.getElementsByClassName("calculate");
    
    button[0].addEventListener("click",()=> {
        const inputFeilds = document.querySelectorAll("input");
        const validInputs = Array.from(inputFeilds).filter( input => input.value !== "");
        if (validInputs.length == 13)
        {
        let FG = document.getElementById("FG").value;
        let STL = document.getElementById("STL").value;
        let _3P = document.getElementById("3P").value;
        let FT = document.getElementById("FT").value;
        let BLK = document.getElementById("BLK").value;
        let ORB = document.getElementById("ORB").value;
        let AST = document.getElementById("AST").value;
        let DRB = document.getElementById("DRB").value;
        let FTA = document.getElementById("FTA").value;
        let PF = document.getElementById("PF").value;
        let FGA = document.getElementById("FGA").value;
        let TOV = document.getElementById("TOV").value;
        let MP = document.getElementById("MP").value;

        console.log( FG );
        console.log(STL );
        console.log( _3P);
        console.log( FT );
        console.log( BLK);
        console.log(ORB );
        console.log(AST );
        console.log(DRB );
        console.log(FTA );
        console.log(FGA );
        console.log(TOV );
        console.log( MP );
        
        let PER = ((FG*85.910 + STL*53.897 + _3P*51.757 + FT*46.845 + BLK*39.190 
        + ORB*39.190 + AST*34.677 + DRB*14.707 - PF * 17.174 - (FTA - FT)*20.091
        - (FGA - FG)*39.190 - TOV*53.897 ) * (1/MP))
        
        let res = Math.round(PER);
        res_PER = document.getElementsByClassName("PER-result")[0];
        res_PER.innerText = res;

        suprise = document.getElementsByClassName("suprise")[0];
        suprise.innerText = "You got a PER just like :";
        
        let playerNameVal;
        let playerImg = document.createElement('img'); 

        if(res >= 35){
            playerNameVal = "Lebron James" ;
            playerImg.src = "https://pbs.twimg.com/profile_images/1010862750401253377/Rof4XuYC_400x400.jpg";
        }
        else if(res >= 30 && res < 35){
            playerNameVal = "Anthony Davis" ;
            playerImg.src = "https://ca-times.brightspotcdn.com/dims4/default/24fd7b5/2147483647/strip/true/crop/2000x1350+0+0/resize/840x567!/format/webp/quality/90/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F0c%2F8a%2Fe71301d8483dbbef583604c12191%2Fanthony-davis-all-america-game.jpg";

        }
        else if(res >= 27.5 && res < 30){
            playerNameVal = "Luka Doncic" ;
            playerImg.src = "https://www.euroleague.net/rs/88ssjkrlx4iuswpp/a180d37b-8f1c-4d7f-869b-955efab3716f/600/filename/luka-doncic-real-madrid-media-day-2017-eb17-88ssjkrlx4iuswpp.jpg";

        }
        else if(res >= 25 && res < 27.5){
            playerNameVal = "Jayson Tatum" ;
            playerImg.src = "https://3.bp.blogspot.com/-Do4c_x_25h0/WiH-MIe6lvI/AAAAAAAAGC8/FA-aLDDX-kcx7GL7MBpr9ImTDMSqid8qQCLcBGAs/s1600/tatum%2BHS%2Bbball%2Bspotlight%2Bnews.jpg";

        }       
        else if(res >= 22.5 && res < 25){
            playerNameVal = "Devin Booker" ;
            playerImg.src = "https://www.nationofblue.com/wp-content/uploads/2013/04/devin-booker-alabama-challenge.jpg";

        }   
        else if(res >= 20 && res < 22.5){
            playerNameVal = "Lamelo Ball" ;
            playerImg.src = "https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/LaMelo_Ball_Vytautas.jpg/800px-LaMelo_Ball_Vytautas.jpg";

        }   
        else if(res >= 18 && res < 20){
            playerNameVal = "Lonzo Ball" ;
            playerImg.src = "https://a.espncdn.com/combiner/i?img=/i/headshots/recruiting/ncb/players/full/171485.png&w=350&h=254";

        }
        else if(res >= 16.5 && res < 18){
            playerNameVal = "Aaron Gordon" ;
            playerImg.src = "https://i.pinimg.com/originals/f8/dc/af/f8dcaf5772e22463d4ce2341f709eb3d.jpg";

        }
        else if(res >= 15 && res < 16.5){
            playerNameVal = "Quinn cook" ;
            playerImg.src = "https://s.yimg.com/it/api/res/1.2/cw2EsFgJwTak4p44uvJThg--~A/YXBwaWQ9eW5ld3M7dz0zMDA7aD0yMDA7cT0xMDA-/https:/s.yimg.com/xe/i/us/sp/v/nba_cutout/players_l/01052021/5588.png";

        }   
        else if(res >= 13 && res < 15){
            playerNameVal = "Patrick Beverley" ;
            playerImg.src = "https://cdn.wtfoot.com/wp-content/uploads/2019/11/patrick-beverley.png";

        } 
        else if(res >= 11 && res < 13){
            playerNameVal = "Bol Bol" ;
            playerImg.src = "https://cdn.vox-cdn.com/thumbor/1ZnIPF_cw8WeQ3YkhSN-Bx-o2xg=/0x0:5218x3482/920x613/filters:focal(2192x1324:3026x2158):format(webp)/cdn.vox-cdn.com/uploads/chorus_image/image/54641161/20170421_EYBLSESSION1_JONLOPEZ_02770.0.jpg";

        } 
        else if(res >= 9 && res < 11){
            playerNameVal = "Deni Avdija" ;
            playerImg.src = "http://maccabi.co.il/mtpic/2019-20/Passport/profile_avadia.png";

        }
        else{
            playerNameVal = "Solomon Hill" ;
            playerImg.src = "https://www.sun-sentinel.com/resizer/FlXKiv_qfAOCgsid2OrOHNR42ng=/800x451/top/cloudfront-us-east-1.images.arcpublishing.com/tronc/LPWGMWXCDNE5PLS56QGSIHVTOQ.jpg";

        }

        playerName = document.getElementsByClassName("player-name")[0];
        playerName.innerText = playerNameVal;

	    document.getElementsByClassName('player-img')[0].appendChild(playerImg);

        setTimeout(function(){
            res_PER.innerText = "";
            playerName.innerText = "";
            suprise.innerText = "";
            document.getElementsByClassName('player-img')[0].removeChild(playerImg);
            alert("Thank You")
        }, 2000);


        }
        else {
            alert("Make sure to fill in all of the stats (MP is not zero)");
        }

        

    });
</script>
</html>